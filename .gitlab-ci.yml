# !!! Do not edit this file manually, see ci-generator folder !!!
test-ci-generator:
  stage: test
  image: python:3.7-alpine
  variables:
    PIP_CACHE_DIR: "$CI_PROJECT_DIR/.cache/pip"
  cache:
    paths:
      - .cache/pip
      - ci-generator/venv/
  before_script:
    - cd ci-generator
    - python -V
    - pip install virtualenv
    - virtualenv venv
    - source venv/bin/activate
    - pip install -r requirements.txt
  script:
    - coverage run -m unittest tests/test*.py
    - coverage report
    - coverage html
  coverage: '/^TOTAL.*\s+(\d+\%)$/'
  artifacts:
    paths:
      - ci-generator/htmlcov

variables:
  # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
  # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
  DOCKER_DRIVER: overlay2
  DOCKER_TLS_CERTDIR: "/certs"

image: docker:19.03.2

services:
  - docker:19.03.2-dind

stages:
  - test
  - prepare
  - build

before_script:
  - docker login -u "$CI_REGISTRY_USER" -p "$CI_REGISTRY_PASSWORD" $CI_REGISTRY

.build: &build
  stage : build
  script:
    - ci/build.sh
  retry: 2

# prepare image 2020.1.0a23
prepare_2020_1_0a23:
  stage: prepare
  variables:
    VERSION: 2020.1.0a23
    BUILD: f1
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    TAG: 2020.1.0a23
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"
  script:
    - ci/prepare.sh
  artifacts:
    paths:
      - licence_request.alf
  retry: 2

# platform specific for 2020.1.0a23: windows
unity_2020_1_0a23-windows:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2020.1.0a23
    BUILD: f1
    TAG: 2020.1.0a23-windows
    COMPONENTS: Windows,Windows-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2020.1.0a23
    RELEASE_URL: https://beta.unity3d.com/download/607f55d6e9ce/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2020.1.0a23: mac
unity_2020_1_0a23-mac:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2020.1.0a23
    BUILD: f1
    TAG: 2020.1.0a23-mac
    COMPONENTS: Mac,Mac-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2020.1.0a23
    RELEASE_URL: https://beta.unity3d.com/download/607f55d6e9ce/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2020.1.0a23: ios
unity_2020_1_0a23-ios:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2020.1.0a23
    BUILD: f1
    TAG: 2020.1.0a23-ios
    COMPONENTS: iOS
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2020.1.0a23
    RELEASE_URL: https://beta.unity3d.com/download/607f55d6e9ce/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2020.1.0a23: android
unity_2020_1_0a23-android:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup-android
    VERSION: 2020.1.0a23
    BUILD: f1
    TAG: 2020.1.0a23-android
    COMPONENTS: Android
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2020.1.0a23
    RELEASE_URL: https://beta.unity3d.com/download/607f55d6e9ce/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2020.1.0a23: webgl
unity_2020_1_0a23-webgl:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2020.1.0a23
    BUILD: f1
    TAG: 2020.1.0a23-webgl
    COMPONENTS: WebGL
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2020.1.0a23
    RELEASE_URL: https://beta.unity3d.com/download/607f55d6e9ce/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2020.1.0a23: facebook
unity_2020_1_0a23-facebook:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2020.1.0a23
    BUILD: f1
    TAG: 2020.1.0a23-facebook
    COMPONENTS: Facebook-Games
    DOWNLOAD_URL: https://beta.unity3d.com/download/607f55d6e9ce/UnitySetup-2020.1.0a23
    SHA1: 03376c0669c4e48e13ab3ae9d54a0e0e07294906
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2020.1.0a23
    RELEASE_URL: https://beta.unity3d.com/download/607f55d6e9ce/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"




# prepare image 2018.4.17f1
prepare_2018_4_17f1:
  stage: prepare
  variables:
    VERSION: 2018.4.17
    BUILD: f1
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    TAG: 2018.4.17f1
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"
  script:
    - ci/prepare.sh
  artifacts:
    paths:
      - licence_request.alf
  retry: 2

# platform specific for 2018.4.17f1: windows
unity_2018_4_17f1-windows:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2018.4.17
    BUILD: f1
    TAG: 2018.4.17f1-windows
    COMPONENTS: Windows,Windows-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2018.4.17f1
    RELEASE_URL: https://beta.unity3d.com/download/b830f56f42f0/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2018.4.17f1: mac
unity_2018_4_17f1-mac:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2018.4.17
    BUILD: f1
    TAG: 2018.4.17f1-mac
    COMPONENTS: Mac,Mac-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2018.4.17f1
    RELEASE_URL: https://beta.unity3d.com/download/b830f56f42f0/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2018.4.17f1: ios
unity_2018_4_17f1-ios:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2018.4.17
    BUILD: f1
    TAG: 2018.4.17f1-ios
    COMPONENTS: iOS
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2018.4.17f1
    RELEASE_URL: https://beta.unity3d.com/download/b830f56f42f0/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2018.4.17f1: android
unity_2018_4_17f1-android:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup-android
    VERSION: 2018.4.17
    BUILD: f1
    TAG: 2018.4.17f1-android
    COMPONENTS: Android
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2018.4.17f1
    RELEASE_URL: https://beta.unity3d.com/download/b830f56f42f0/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2018.4.17f1: webgl
unity_2018_4_17f1-webgl:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2018.4.17
    BUILD: f1
    TAG: 2018.4.17f1-webgl
    COMPONENTS: WebGL
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2018.4.17f1
    RELEASE_URL: https://beta.unity3d.com/download/b830f56f42f0/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2018.4.17f1: facebook
unity_2018_4_17f1-facebook:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2018.4.17
    BUILD: f1
    TAG: 2018.4.17f1-facebook
    COMPONENTS: Facebook-Games
    DOWNLOAD_URL: https://beta.unity3d.com/download/b830f56f42f0/UnitySetup-2018.4.17f1
    SHA1: 521deb7528647f87766dbbdc886bae9b41fae3cb
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2018.4.17f1
    RELEASE_URL: https://beta.unity3d.com/download/b830f56f42f0/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"




# prepare image 2019.2.21f1
prepare_2019_2_21f1:
  stage: prepare
  variables:
    VERSION: 2019.2.21
    BUILD: f1
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    TAG: 2019.2.21f1
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"
  script:
    - ci/prepare.sh
  artifacts:
    paths:
      - licence_request.alf
  retry: 2

# platform specific for 2019.2.21f1: windows
unity_2019_2_21f1-windows:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.2.21
    BUILD: f1
    TAG: 2019.2.21f1-windows
    COMPONENTS: Windows,Windows-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.2.21f1
    RELEASE_URL: https://beta.unity3d.com/download/9d528d026557/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.2.21f1: mac
unity_2019_2_21f1-mac:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.2.21
    BUILD: f1
    TAG: 2019.2.21f1-mac
    COMPONENTS: Mac,Mac-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.2.21f1
    RELEASE_URL: https://beta.unity3d.com/download/9d528d026557/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.2.21f1: ios
unity_2019_2_21f1-ios:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.2.21
    BUILD: f1
    TAG: 2019.2.21f1-ios
    COMPONENTS: iOS
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.2.21f1
    RELEASE_URL: https://beta.unity3d.com/download/9d528d026557/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.2.21f1: android
unity_2019_2_21f1-android:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup-android
    VERSION: 2019.2.21
    BUILD: f1
    TAG: 2019.2.21f1-android
    COMPONENTS: Android
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.2.21f1
    RELEASE_URL: https://beta.unity3d.com/download/9d528d026557/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.2.21f1: webgl
unity_2019_2_21f1-webgl:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.2.21
    BUILD: f1
    TAG: 2019.2.21f1-webgl
    COMPONENTS: WebGL
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.2.21f1
    RELEASE_URL: https://beta.unity3d.com/download/9d528d026557/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.2.21f1: facebook
unity_2019_2_21f1-facebook:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.2.21
    BUILD: f1
    TAG: 2019.2.21f1-facebook
    COMPONENTS: Facebook-Games
    DOWNLOAD_URL: https://beta.unity3d.com/download/9d528d026557/UnitySetup-2019.2.21f1
    SHA1: e1bf0167dda7897385adf7bb53a14195ffaa98e2
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.2.21f1
    RELEASE_URL: https://beta.unity3d.com/download/9d528d026557/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"




# prepare image 2019.3.1f1
prepare_2019_3_1f1:
  stage: prepare
  variables:
    VERSION: 2019.3.1
    BUILD: f1
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    TAG: 2019.3.1f1
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"
  script:
    - ci/prepare.sh
  artifacts:
    paths:
      - licence_request.alf
  retry: 2

# platform specific for 2019.3.1f1: windows
unity_2019_3_1f1-windows:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.3.1
    BUILD: f1
    TAG: 2019.3.1f1-windows
    COMPONENTS: Windows,Windows-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.3.1f1
    RELEASE_URL: https://beta.unity3d.com/download/89d6087839c2/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.3.1f1: mac
unity_2019_3_1f1-mac:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.3.1
    BUILD: f1
    TAG: 2019.3.1f1-mac
    COMPONENTS: Mac,Mac-Mono
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.3.1f1
    RELEASE_URL: https://beta.unity3d.com/download/89d6087839c2/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.3.1f1: ios
unity_2019_3_1f1-ios:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.3.1
    BUILD: f1
    TAG: 2019.3.1f1-ios
    COMPONENTS: iOS
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.3.1f1
    RELEASE_URL: https://beta.unity3d.com/download/89d6087839c2/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.3.1f1: android
unity_2019_3_1f1-android:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup-android
    VERSION: 2019.3.1
    BUILD: f1
    TAG: 2019.3.1f1-android
    COMPONENTS: Android
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.3.1f1
    RELEASE_URL: https://beta.unity3d.com/download/89d6087839c2/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.3.1f1: webgl
unity_2019_3_1f1-webgl:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.3.1
    BUILD: f1
    TAG: 2019.3.1f1-webgl
    COMPONENTS: WebGL
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.3.1f1
    RELEASE_URL: https://beta.unity3d.com/download/89d6087839c2/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"


# platform specific for 2019.3.1f1: facebook
unity_2019_3_1f1-facebook:
  <<: *build
  variables:
    DOCKERFILE_NAME: unitysetup
    VERSION: 2019.3.1
    BUILD: f1
    TAG: 2019.3.1f1-facebook
    COMPONENTS: Facebook-Games
    DOWNLOAD_URL: https://beta.unity3d.com/download/89d6087839c2/UnitySetup-2019.3.1f1
    SHA1: e963ddd0efc8833dac8e5fc80038d4f7787aba97
    RELEASE_NOTES: https://unity3d.com/unity/whats-new/2019.3.1f1
    RELEASE_URL: https://beta.unity3d.com/download/89d6087839c2/public_download.html
    # https://about.gitlab.com/2019/07/31/docker-in-docker-with-docker-19-dot-03/
    # https://gitlab.com/gitlab-org/gitlab-runner/issues/4501
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"





